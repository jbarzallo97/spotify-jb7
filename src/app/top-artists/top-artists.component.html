<div class="profile-container">
  <div class="profile-header">
    <div class="content-container">
      <h1>Top Artist</h1>
      <div class="time-period-container">
        <button class="time-period"
                [ngClass]="{'active': selectedPeriod === 'allTime'}"
                (click)="selectPeriod('allTime')">All Time</button>
        <button class="time-period"
                [ngClass]="{'active': selectedPeriod === 'last6Months'}"
                (click)="selectPeriod('last6Months')">Last 6 Months</button>
        <button class="time-period"
                [ngClass]="{'active': selectedPeriod === 'last4Weeks'}"
                (click)="selectPeriod('last4Weeks')">Last 4 Weeks</button>
      </div>
    </div>
  </div>

  <!-- Listado dinÃ¡mico de artistas -->
  <div class="artists-container">
    <div *ngIf="isLoading" class="loading-wrapper">
      <div class="equalizer">
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
    <div *ngIf="!isLoading && artists.length === 0" class="empty-state">
      No hay artistas para mostrar.
    </div>
    <ng-container *ngIf="!isLoading && artists.length > 0">
      <div class="artist-item" *ngFor="let artist of artists" (click)="openArtistModal(artist.id)">
        <div class="artist-card">
          <img *ngIf="artist.imageUrl" [src]="artist.imageUrl" [alt]="artist.name">
          <p>{{ artist.name }}</p>
        </div>
        <a class="artist-overlay" [href]="artist.spotifyUrl" target="_blank" rel="noopener noreferrer" aria-label="Ver en Spotify"></a>
        <div class="overlay-icon" aria-hidden="true"><i class="fas fa-info-circle"></i></div>
      </div>
    </ng-container>
  </div>

  <app-artist-modal [isOpen]="isModalOpen" [artistId]="selectedArtistId" (closed)="closeModal()"></app-artist-modal>
</div>
